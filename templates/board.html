{% extends 'base.html' %}

{% block header %}
    <title>FlaskChan - {{ current_board.acronym }} - {{ current_board.name }}</title>
    <h3>{{ current_board.name }} - {{ current_board.description }}</h3>
{% endblock %}

{% block body %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <p class="flash">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <div class="new_thread">
        <form action="{{ url_for('boardView', acronym=current_board.acronym)}}" method="POST">
            <label for="subject">Sujet</label>
            <input type="text" name="subject" id="subject">
            <label for="name">Nom</label>
            <input type="text" name="name" id="name">
            <label for="content">Contenu</label>
            <input type="text" name="content" id="content">
            <input type="submit" value="Nouveau Fil">
        </form>
    </div>
    {% for post in posts %}
        <div class="post">
            <div class="post_header">
                <p>{{post.id}}</p>
                <p>{{post.subject}}</p>
                <p>{{post.name}}</p>
                <p>{{post.date}}</p>
                <a href=" {{ url_for('threadView', acronym=current_board.acronym, thread_id=post.id) }}">Voir le fil</a>
            </div>
            <div class="content">
                <p>{{post.content}}</p>
            </div>
        </div>
    {% endfor %}    

{% endblock body %}